<div class="jumbotron surveys" ng-controller='SurveysController'>
  <h3 class='form-title'>Surveys
    <span ng-if='loggedInUser.admin'>
      <button class="btn btn-default pull-right" ng-click="newSurvey()" type="button">New Survey</button></h3>
    </span>
  </h3>
  <div class="list-group" dir-paginate="survey in surveys | itemsPerPage: 8">
    <div class="list-group-item survey-info" ng-controller="SurveyController">
      <span ng-if='!loggedInUser.currentUser'>
      <h4><a href='#' ng-click="showConsentModal(survey)">{{survey.name}}</a></h4>
      </span>
      <span ng-if='loggedInUser.currentUser'>
        <h4><a ui-sref='user.survey({survey_id: survey.id, user_id: loggedInUser.currentUser})'  >{{survey.name}}</a></h4>
      </span>
      <p>
        {{survey.description}}
      </p>
      <p>
        Estimated time to complete: {{survey.estimated_time_to_complete}} minutes
      </p>
    </div>
  </div>
</div>
<dir-pagination-controls></dir-pagination-controls>
</div>
